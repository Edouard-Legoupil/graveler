<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Wrapper for {golem} that automates dashboard file generation. ">
<title>Builds standardized, modular shiny dashboard frameworks • graveler</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="deps/Lato-0.4.6/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Builds standardized, modular shiny dashboard frameworks">
<meta property="og:description" content="Wrapper for {golem} that automates dashboard file generation. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">graveler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.75.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/edouard-legoupil/graveler/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="graveler">{graveler}<a class="anchor" aria-label="anchor" href="#graveler"></a>
</h1></div>
<blockquote>
<p>Build standardized, branded, modular dashboards in {shiny}</p>
</blockquote>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This <a href="https://github.com/ghcarlalan/graveler" class="external-link">{graveler} fork</a> is a wrapper for <a href="https://engineering-shiny.org/" class="external-link">{golem}</a>, <a href="https://rstudio.github.io/shinydashboard/index.html" class="external-link">{shinyDashboard}</a> and <a href="https://edouard-legoupil.github.io/unhcrshiny/" class="external-link">{unhcrshiny}</a> packages.</p>
<p>At a high level, {golem} turns your shiny dashboards into a package framework and allows you to build and deploy them almost exactly as you would an R package. This allows for better documentation, testing, robustness, etc. {graveler} abstracts away its technical side and set defaults for your development workflow.</p>
<p>You shall be able to make a working dashboard in less than a minute!</p>
</div>
<div class="section level2">
<h2 id="dashboard-in-shiny">Dashboard in Shiny<a class="anchor" aria-label="anchor" href="#dashboard-in-shiny"></a>
</h2>
<p>Developing dashboards in shiny, rather than with a <em>“point and click”</em> software, requires some familiarity with R programming but also comes with numerous advantages:</p>
<ul>
<li><p><strong>Customizability</strong>: Shiny offers a high level of flexibility and customization, allowing you to design interactive dashboards with tailored visualizations, layouts, and user interfaces. This comes also with amazing plotting capacity leveraging <a href="">ggplot2</a></p></li>
<li><p><strong>Seamless Integration with R</strong>: Shiny allows you to leverage the power and flexibility of the R language and its extensive ecosystem of packages for data analysis, visualization, and statistical modeling.</p></li>
<li><p><strong>Responsiveness on mobile devices</strong>: Shiny Dashbaord are built per default with bootstrap, allowing for User Interface Responsiveness.</p></li>
<li><p><strong>Advanced Analytics</strong>: With R’s extensive statistical capabilities, Shiny enables the integration of complex statistical models and advanced analytics directly into your dashboard.</p></li>
<li><p><strong>Reproducibility and Transparency</strong>: Since Shiny dashboards are built using R code, they are inherently reproducible and transparent, making it easier to share and validate analysis methods and results.</p></li>
<li><p><strong>Publication</strong>: UNHCR has already invested in a <a href="http://rstudio.unhr.org" class="external-link">Rstudio Connect server</a> infrastructure.</p></li>
<li><p><strong>Open-Source Community</strong>: Shiny benefits from a large and active open-source community, which provides a wealth of resources, packages, and support.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="why-bother-with-graveler">Why Bother with {graveler}?<a class="anchor" aria-label="anchor" href="#why-bother-with-graveler"></a>
</h2>
<p>As any development team grows larger, it is important to standardize code to avoid the dreaded event in which you are handed a project that is coded so differently from your usual workflow that you either have to spend hours refactoring and / or rebuilding from scratch. Additionally, {shiny} itself can be complicated to spin up at times for developers who are not familiar with its syntax.</p>
<p><strong>{graveler} allows you to create standard, scalable and documented code so you can focus on actual dashboard element creation instead of spending time getting the various back-end pieces to talk to each other.</strong></p>
<blockquote>
<p>Note that this package is not like {shinyWidgets} or other shiny element packages. This is a <strong>dashboard skeleton creator</strong> that allows you and your team to all start from the same page (some might say fluidPage) so your dashboards all have the same feel, layout, and backend creation.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the package via devtools:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"edouard-legoupil/graveler"</span><span class="op">)</span></span></code></pre>
<p>You can see check two typical examples of dashboard below:</p>
<pre><code>## A dummy example with a dashboard to publish some survey content
graveler::_example_unhcr_survey()</code></pre>
<p><img src="reference/figures/geodude.png" width="551"></p>
<pre><code>## A dummy example with a dashboard to publish who's doing what whwre
graveler::_example_unhcr_ativity()</code></pre>
<p><img src="reference/figures/geodude.png" width="551"></p>
<p>The file structure is located in the examples/ folder.</p>
</div>
<div class="section level2">
<h2 id="get-started">Get Started<a class="anchor" aria-label="anchor" href="#get-started"></a>
</h2>
<p>Once the package is installed on your Rstudio, follow the steps below:</p>
<div class="section level3">
<h3 id="creation">Creation<a class="anchor" aria-label="anchor" href="#creation"></a>
</h3>
<p>To create a {graveler} dashboard:</p>
<ol style="list-style-type: decimal">
<li><p>Click <code>New Project</code></p></li>
<li><p>Select <code>New Directory</code></p></li>
<li><p>Select <code>Make a Graveler Dashboard</code></p></li>
<li><p>Fill out the form, ensuring that the <code>Directory Name</code> and <code>Pkg Name</code> both match and are written in camelCase (failing to do so will break your dashboard immediately)</p></li>
<li><p>Make sure to set the proper subdirectory</p></li>
<li><p>Click <code>Create Project</code></p></li>
</ol>
<p><img src="reference/figures/wizard.png" width="389"></p>
<p>This will make a new directory on your machine with the following structure:</p>
<pre><code>   .
   ├── .Rbuildignore # ignores systems files not needed for builds
   ├── DESCRIPTION # where libraries are installed for your package
   ├── dev/
   │   ├── 01_dev.R # package dependencies and system file creations
   │   └──  run_dev.R # build, document, and run the shiny dashboard
   ├── foo.Rproj
   ├── inst/
   │   └── app/
   │       └── www/ # standard shiny extra file subfolder
   │           ├── favicon.ico # unhcr favicon
   │           └── unhcr_sprite.svg # icon in upper left of collapsed header
   ├── man/ # .Rd system files for functions generated by R
   └── R/
       ├── apex_libraries.R # necessary libraries your dashboard loads
       ├── app_server.R # callModules here
       ├── app_ui.R # combines header, sidebar, body files
       ├── body.R # organizes UI layouts
       ├── golem_add_external_resources.R # allows usage of www/ folder
       ├── header.R # display name and other shinydashboardPlus features
       └── sidebar.R # tabs and their icons</code></pre>
</div>
<div class="section level3">
<h3 id="initialization">Initialization<a class="anchor" aria-label="anchor" href="#initialization"></a>
</h3>
<p>When you load up the new project, you will have two files open: <code>01_dev.R</code> and <code>run_dev</code>.</p>
<div class="section level4">
<h4 id="id_01_dev">01_dev<a class="anchor" aria-label="anchor" href="#id_01_dev"></a>
</h4>
<p>The first file sets up the dependencies for deployment. If you check the <code>DESCRIPTION</code> file, it will have no imports on initialization. When you run this file, it attaches all of your libraries to the package so that the server you publish to can know what to install and run.</p>
<p>These include the libraries you need to run your dashboard, a golem.config system file, an app.R file to deploy on RStudio Connect, and a manifest file to use git backed content within RStudio Connect. You can adjust these to fit your workflow.</p>
<blockquote>
<p><strong>Note:</strong> When you run the line <code>golem::add_rstudioconnect_file(open = FALSE)</code>, you will be prompted in your console to create a golem-config.yml file. Enter 1 when prompted to create the necessary backend files required for {golem} to run your dashboard package.</p>
</blockquote>
<p>At the end of the file, you will navigate to the run_dev.R file.</p>
<p><img src="reference/figures/01_dev.png"></p>
</div>
<div class="section level4">
<h4 id="run_dev">run_dev<a class="anchor" aria-label="anchor" href="#run_dev"></a>
</h4>
<p>Once your dependencies and system files are in place, you can run all code in the <code>run_dev.R</code> file. This should successfully run and load your (currently empty) shiny dashboard! In the span of a minute you have already made a reproducible and fully functional framework!</p>
<p><img src="reference/figures/empty.png" width="502"></p>
<p>If you are familiar with building R packages, this file is the equivalent of running the <code>Install and Restart</code> option: it creates your <code>NAMESPACE</code>, documents .Rd files, and temporarily installs it locally.</p>
<blockquote>
<p>If you need to add a new library, simply add into the <code>01_dev.R</code> file (and the <code>apex_libraries.R</code> file) and run it again. If you need to remove a library, you will need to edit the <code>DESCRIPTION</code> file manually.</p>
</blockquote>
<p><img src="reference/figures/run_dev.png"></p>
</div>
</div>
<div class="section level3">
<h3 id="customization">Customization<a class="anchor" aria-label="anchor" href="#customization"></a>
</h3>
<p>Additional or custom libraries would be edited in the dev/01_dev.R and R/apex_libraries.R files as examples.</p>
<p>The implementation of the brand within your plots should be done with <a href="https://vidonne.github.io/unhcrthemes/" class="external-link">unhcrthemes</a>.</p>
</div>
<div class="section level3">
<h3 id="modularization">Modularization<a class="anchor" aria-label="anchor" href="#modularization"></a>
</h3>
<p>If you are unfamiliar, modularization splits your dashboard into <em>n</em> files where <em>n</em> is the number of sidebar tabs / modules you want to make that each have their own UI and server namespaces. This allows you to independently load each module’s code (if one breaks, the rest will still work) and reuse IDs for UI elements (you can give different plotOuputs a generic name like “chart” across two different modules).</p>
<div class="section level4">
<h4 id="creation-1">Creation<a class="anchor" aria-label="anchor" href="#creation-1"></a>
</h4>
<p>When inside a <a href="https://github.com/edouard-legoupil/graveler" class="external-link">graveler</a> project, running the function <code>level_up(name = "foo")</code> will add a module to your dashboard as well as a “fct” file, which is how {golem} <a href="https://engineering-shiny.org/build-app-golem.html?q=fct#submodules-and-utility-functions" class="external-link">suggests you functionalize your code</a>:</p>
<pre><code>   .
   ├── R/
   │   ├── apex_libraries.R
   │   ├── app_config.R
   │   ├── app_server.R
   │   ├── app_ui.R
   │   ├── body.R
   │   ├── golem_add_external_resources.R
   │   ├── header.R
   │   ├── mod_foo.R                    &lt;&lt;&lt;&lt;&lt; HERE
   │   ├── mod_foo_fct_display.R        &lt;&lt;&lt;&lt;&lt; HERE
   │   ├── run_app.R
   │   └── sidebar.R
   ├── man/
   ├── inst/
   ├── dev/
   ├── DESCRIPTION
   ├── foo.Rproj
   ├── .Rbuildignore
   └── NAMESPACE</code></pre>
<p><img src="reference/figures/blank_mod.png"></p>
<p>You place your UI and server code in the <code>mod</code> file, and then you abstract away repeatable data manipulation or plotting functions inside the <code>fct</code> file. You can see this in the <code>unhcrboard</code> example dashboard files:</p>
<p><img src="reference/figures/fct_display.png"></p>
<p>In general, this helps keep your module code short and tidy, and allows you to put documentation for your functions just like a package.</p>
</div>
<div class="section level4">
<h4 id="connection">Connection<a class="anchor" aria-label="anchor" href="#connection"></a>
</h4>
<p><code>level_up</code> might create your module, but you still need to tell your dashboard to include and run this module. To do so, there are three lines at the bottom you copy and paste into their appropriate files: body.R, app_server.R, and sidebar.R (uncommentted, of course).</p>
<p>The body and sidebar lines need to be separated with commas if you have multiple modules, but the app_server will be individual lines like so:</p>
<p><img src="reference/figures/mod_copy.png"></p>
<p>Once that is done, your modules should appear on the left. All that is left to do is to insert your actual dashboard elements.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="deployment">Deployment<a class="anchor" aria-label="anchor" href="#deployment"></a>
</h2>
<p>Once the <code>run_dev.R</code> file runs and your dashboard is error free, you can go for deployment. Here are some examples of RStudio integration publishing. This assumes you have your server set up and your Rstudio Connect account linked to your RStudio IDE.</p>
<div class="section level3">
<h3 id="publish-via-button">Publish via Button<a class="anchor" aria-label="anchor" href="#publish-via-button"></a>
</h3>
<p>In order to deploy your application, the basic file have been created.</p>
<p>Run the <code>app.R</code> file to launch your application locally and then click on the blue: “<code>publish button</code>”” in the top right. <img src="reference/figures/deploy.png"></p>
<p>It will gather your dependencies, ensure the server has them installed, and then your dashboard will be viewable on RStudio Connect. <a href="https://data-viz.it.wisc.edu/__docs__/admin/appendix/deployment-guide/" class="external-link">More info on deployement here</a></p>
</div>
<div class="section level3">
<h3 id="publish-via-github">Publish via Github<a class="anchor" aria-label="anchor" href="#publish-via-github"></a>
</h3>
<p>While more involved then simply clicking a button, git backed content will ensure your published works will align with your team’s codebase and allow others to collaborate easier. Earlier, we made a <code>manifest.json</code> file at the end of the <code>01_dev.R</code> file. This creates an “image” that RStudio looks for and reproduces from github directly.</p>
<p>To publish for the first time, you push your code to whichever repo and branch on github, then in RStudio Connect you click its blue, publish button. You then navigate to the repo and branch you just pushed to, find the manifest file. Just like before, it will gather your dependencies from the manifest, ensure the server has them installed, and then your dashboard will be viewable on RStudio Connect.</p>
<p>To republish changes in the future, you simply merge your code to github and the file will automatically reflect those changes when it sees them.</p>
</div>
<div class="section level3">
<h3 id="register-our-dashbaord-on">Register our dashbaord on<a class="anchor" aria-label="anchor" href="#register-our-dashbaord-on"></a>
</h3>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/edouard-legoupil/graveler/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing graveler</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edouard Legoupil <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edouard Legoupil.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
